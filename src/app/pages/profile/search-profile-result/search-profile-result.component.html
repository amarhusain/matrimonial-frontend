<div class="container-fluid mt-4">
    <div class="row">
        <div class="col">
            <p>{{totalElements}} Matches</p>
        </div>
    </div>
    <div class="row">
        <!-- Filter Criteria (Left Side) -->
        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Filter Criteria</h5>
                    <form (ngSubmit)="applyFilters()">
                        <div class="mb-3">
                            <label for="ageRange" class="form-label">Age Range: {{filters.minAge}} -
                                {{filters.maxAge}}</label>

                            <div class="input-group">
                                <input type="number" class="form-control" id="minAge" [(ngModel)]="filters.minAge"
                                    name="minAge" placeholder="Min">
                                <span class="input-group-text">-</span>
                                <input type="number" class="form-control" id="maxAge" [(ngModel)]="filters.maxAge"
                                    name="maxAge" placeholder="Max">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="occupation" class="form-label">Occupation</label>
                            <input type="text" class="form-control" id="occupation" [(ngModel)]="filters.occupation"
                                name="occupation">
                        </div>
                        <div class="mb-3">
                            <label for="salaryRange" class="form-label">Salary Range</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="minSalary" [(ngModel)]="filters.minIncome"
                                    name="minSalary" placeholder="Min">
                                <span class="input-group-text">-</span>
                                <input type="number" class="form-control" id="maxSalary" [(ngModel)]="filters.maxIncome"
                                    name="maxSalary" placeholder="Max">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="nationality" class="form-label">Nationality</label>
                            <input type="text" class="form-control" id="nationality" [(ngModel)]="filters.nationality"
                                name="nationality">
                        </div>
                        <div class="mb-3">
                            <label for="city" class="form-label">City</label>
                            <input type="text" class="form-control" id="city" [(ngModel)]="filters.city" name="city">
                        </div>
                        <button type="submit" class="btn btn-primary">Apply Filters</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Profile Cards (Right Side) -->
        <div class="col-md-9">
            <div class="card ">

                <div class="card-body">
                    <h5 class="card-title">Search Results</h5>
                    <div *ngIf="isLoading" class="text-center">
                        <div class="spinner-border" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                    </div>
                    <div *ngIf="!isLoading && profiles.length === 0" class="alert alert-info">
                        No profiles found matching your criteria.
                    </div>
                    <div class="row row-cols-1  g-4">
                        <div class="col" *ngFor="let profile of profiles">
                            <div class="card mb-3" style="cursor: pointer;" (click)="navigateToProfile(profile.id)">
                                <div class="row g-0">
                                    <div class="col-md-4">
                                        <img [src]="getImageUrl(profile.photoUrl) || '/images/person.png'"
                                            class="card-img-top " alt="Profile Photo">
                                    </div>

                                    <div class="col-md-8">

                                        <div class="card-body">
                                            <h5 class="card-title">{{ profile.firstName }}{{ profile.middleName ? ' '
                                                + profile.middleName +' ' :'' }}{{
                                                ' ' + profile.lastName }}
                                            </h5>
                                            <hr>
                                            <div class="container ">
                                                <div class="row row-cols-2">
                                                    <div class="col">
                                                        <p class="card-text">{{ profile.dateOfBirth | age }} Years,
                                                            {{profile.height}}</p>
                                                    </div>
                                                    <div class="col">
                                                        <p class="card-text">MSC</p>
                                                    </div>
                                                    <div class="col">
                                                        <p class="card-text">{{ profile.city }}, {{ profile.state }}, {{
                                                            profile.country }}</p>
                                                    </div>
                                                    <div class="col">
                                                        <p class="card-text">{{ profile.occupation }}</p>
                                                    </div>
                                                    <div class="col">
                                                        <p class="card-text">{{ profile.sect }}, {{ profile.religion }}
                                                        </p>
                                                    </div>
                                                    <div class="col">
                                                        <p class="card-text">{{ profile.income }}</p>
                                                    </div>
                                                    <div class="col">
                                                        <p class="card-text">Punjabi</p>

                                                    </div>
                                                    <div class="col">
                                                        <p class="card-text">{{ profile.maritalStatus }}</p>

                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <p class="card-text">{{ profile.workplace }}</p>

                                                    </div>
                                                </div>
                                            </div>

                                            <!-- <div class="card-footer">
                                                <button class="btn btn-primary btn-sm"
                                                    (click)="viewProfile(profile.id)">View
                                                    Profile</button>
                                            </div> -->
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-3 text-center" *ngIf="profiles.length > 0">
                        <app-pagination [currentPage]="currentPage" [totalPages]="totalPages"
                            (pageChange)="onPageChange($event)">
                        </app-pagination>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<!-- <ng-template #noProfiles>
    <p>No profiles found matching the criteria.</p>
</ng-template> -->

<!-- <button class="btn btn-primary" (click)="backToSearch()">Back to Search</button> -->