<div class="container my-5">
    <h2 class="mb-4 text-rose-700">Create Your Account</h2>

    <div class="progress mb-4">
        <div class="progress-bar bg-rose-600" [style.width.%]="(currentStep / 3) * 100">
            Step {{currentStep}} of 3
        </div>
    </div>

    <div [ngSwitch]="currentStep">
        <div *ngSwitchCase="1">
            <h3 class="h5 mb-3">Step 1: Basic Information</h3>
            <form [formGroup]="step1Form">
                <div class="mb-3">
                    <label for="fullName" class="form-label">Full Name</label>
                    <input type="text" class="form-control" id="fullName" formControlName="name"
                        placeholder="Enter your full name">
                    <div *ngIf="step1Form.get('name')?.invalid && (step1Form.get('name')?.dirty || step1Form.get('name')?.touched)"
                        class="text-danger">
                        Full name is required.
                    </div>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email address</label>
                    <input type="email" class="form-control" id="email" formControlName="email"
                        placeholder="Enter your email">
                    <div *ngIf="step1Form.get('email')?.invalid && (step1Form.get('email')?.dirty || step1Form.get('email')?.touched)"
                        class="text-danger">
                        Please enter a valid email address.
                    </div>
                </div>
                <div class="mb-3">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" class="form-control" id="password" formControlName="password"
                        placeholder="Create a password">
                    <div class="progress mt-2" style="height: 5px;">
                        <div class="progress-bar"
                            [ngStyle]="{'width': passwordStrength + '%', 'background-color': passwordStrengthColor}">
                        </div>
                    </div>
                    <small class="form-text" [style.color]="passwordStrengthColor">{{passwordStrengthText}}</small>
                    <div *ngIf="step1Form.get('password')?.invalid && (step1Form.get('password')?.dirty || step1Form.get('password')?.touched)"
                        class="text-danger">
                        Password must be at least 8 characters long.
                    </div>
                </div>
                <button type="button" class="btn btn-rose" (click)="nextStep()"
                    [disabled]="step1Form.invalid">Next</button>
            </form>
        </div>

        <div *ngSwitchCase="2">
            <h3 class="h5 mb-3">Step 2: Personal Details</h3>
            <form [formGroup]="step2Form">
                <div class="mb-3">
                    <label for="dateOfBirth" class="form-label">Date of Birth</label>
                    <input type="date" class="form-control" id="dateOfBirth" formControlName="dateOfBirth">
                    <div *ngIf="step2Form.get('dateOfBirth')?.invalid && (step2Form.get('dateOfBirth')?.dirty || step2Form.get('dateOfBirth')?.touched)"
                        class="text-danger">
                        You must be at least 18 years old to register.
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Gender</label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" formControlName="gender" id="male" value="male">
                        <label class="form-check-label" for="male">Male</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" formControlName="gender" id="female"
                            value="female">
                        <label class="form-check-label" for="female">Female</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" formControlName="gender" id="other" value="other">
                        <label class="form-check-label" for="other">Other</label>
                    </div>
                    <div *ngIf="step2Form.get('gender')?.invalid && (step2Form.get('gender')?.dirty || step2Form.get('gender')?.touched)"
                        class="text-danger">
                        Please select a gender.
                    </div>
                </div>
                <div class="mb-3">
                    <label for="religion" class="form-label">Religion</label>
                    <select class="form-select" id="religion" formControlName="religion">
                        <option value="">Select Religion</option>
                        <option value="christian">Christian</option>
                        <option value="muslim">Muslim</option>
                        <option value="hindu">Hindu</option>
                        <option value="buddhist">Buddhist</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="occupation" class="form-label">Occupation</label>
                    <select class="form-select" id="occupation" formControlName="occupation">
                        <option value="">Select Occupation</option>
                        <option value="Software_Engineer">Software Engineer</option>
                        <option value="accountant">Accountant</option>
                        <option value="teacher">Teacher</option>
                        <option value="Data_Analyst">Data Analyst</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <button type="button" class="btn btn-secondary me-2" (click)="prevStep()">Previous</button>
                <button type="button" class="btn btn-rose" (click)="nextStep()"
                    [disabled]="step2Form.invalid">Next</button>
            </form>
        </div>

        <div *ngSwitchCase="3">
            <h3 class="h5 mb-3">Step 3: Terms and Verification</h3>
            <form [formGroup]="step3Form" (ngSubmit)="onSubmit()">
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="termsAccepted" formControlName="termsAccepted">
                    <label class="form-check-label" for="termsAccepted">I accept the <a href="#"
                            class="text-rose-600">Terms of Service</a></label>
                    <div *ngIf="step3Form.get('termsAccepted')?.invalid && (step3Form.get('termsAccepted')?.dirty || step3Form.get('termsAccepted')?.touched)"
                        class="text-danger">
                        You must accept the Terms of Service to continue.
                    </div>
                </div>
                <div class="mb-3">
                    <!-- <re-captcha formControlName="recaptcha"></re-captcha>
                    <div *ngIf="step3Form.get('recaptcha')?.invalid && (step3Form.get('recaptcha')?.dirty || step3Form.get('recaptcha')?.touched)"
                        class="text-danger">
                        Please complete the captcha.
                    </div> -->
                </div>
                <button type="button" class="btn btn-secondary me-2" (click)="prevStep()">Previous</button>
                <button type="submit" class="btn btn-rose" [disabled]="step3Form.invalid">Create Account</button>
            </form>
        </div>
    </div>

    <div class="mt-4">
        <h3 class="h5 mb-3">Or sign up with:</h3>
        <button class="btn btn-outline-primary me-2">Facebook</button>
        <button class="btn btn-outline-danger me-2">Google</button>
        <button class="btn btn-outline-info">Twitter</button>
    </div>

    <p class="mt-3">Already have an account? <a routerLink="/login" class="text-rose-600">Log in</a></p>
</div>